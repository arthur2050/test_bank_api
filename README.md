
# üí≥ Bank API

Backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **Java + Spring Boot** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏.  
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é, –ø–µ—Ä–µ–≤–æ–¥—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç (–ø–æ–∏—Å–∫ + –ø–∞–≥–∏–Ω–∞—Ü–∏—è)
- –ó–∞–ø—Ä–æ—Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–∞—Ä—Ç—ã
- –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞

### üõ† –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- –°–æ–∑–¥–∞–Ω–∏–µ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–∞—Ä—Ç

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Java 17+**
- **Spring Boot**
- **Spring Security + JWT**
- **Spring Data JPA**
- **MariaDB**
- **Liquibase** ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏
- **Docker Compose**
- **JUnit** ‚Äî —Ç–µ—Å—Ç—ã

---

## üì¶ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/arthur2050/test_bank_api.git
cd test_bank_api
```

### 2. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å Maven
–¢—Ä–µ–±—É–µ—Ç—Å—è JDK 17+ –∏ Maven.

```bash
mvn clean package -DskipTests
```

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è JAR-—Ñ–∞–π–ª:

```bash
target/test_bank_api-0.0.1-SNAPSHOT.jar
```

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
docker compose up --build
```
–∏–ª–∏ (–¥–ª—è —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π Docker):

```bash
docker-compose up --build
```

üåê –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é  
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

```bash
http://localhost:8084
```

### üìú API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger)
Swagger –µ—â—ë –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É:

```bash
http://localhost:8084/swagger-ui.html
```
–∏–ª–∏

```bash
http://localhost:8084/swagger-ui/index.html
```

### üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
docker compose down
```
–∏–ª–∏

```bash
docker-compose down
```

### ‚ñ∂ –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker

```bash
java -jar target/test_bank_api-0.0.1-SNAPSHOT.jar
```

–ü—Ä–∏ —ç—Ç–æ–º –±–∞–∑—É –Ω—É–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
src/main/java/com/bank/api/      # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
src/main/resources/              # –ö–æ–Ω—Ñ–∏–≥–∏, –º–∏–≥—Ä–∞—Ü–∏–∏ Liquibase
docker/                          # Dockerfile
docker-compose.yml               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

---

## ‚öôÔ∏è –ü—Ä–∏–º–µ—Ä—ã API-–∑–∞–ø—Ä–æ—Å–æ–≤

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
–ü–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞:

```bash
POST /api/auth/login
Content-Type: application/json

{
  "username": "user1",
  "password": "password123"
}
```

–û—Ç–≤–µ—Ç:

```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6..."
}
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è JWT –≤ Authorization header)

```bash
GET /api/cards?status=ACTIVE&page=0&size=10
Authorization: Bearer {token}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ä—Ç—ã (–∞–¥–º–∏–Ω)

```bash
POST /api/cards
Authorization: Bearer {admin_token}
Content-Type: application/json

{
  "expirationDate": "2026-12-31",
  "balance": 1000.00
}
```

### –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏

```bash
POST /api/transfers
Authorization: Bearer {token}
Content-Type: application/json

{
  "fromCardId": 1,
  "toCardId": 2,
  "amount": 150.50
}
```

### –ó–∞–ø—Ä–æ—Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–∞—Ä—Ç—ã

```bash
POST /api/cards/{cardId}/block
Authorization: Bearer {token}
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –∫–ª—é—á–µ–≤–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
mvn test
```

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

Arthur2050